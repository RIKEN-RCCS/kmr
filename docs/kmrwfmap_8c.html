<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KMR: src/kmrwfmap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KMR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">kmrwfmap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple Workflow by Static-Spawning.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;mpi.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="kmr_8h_source.html">kmr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kmrimpl_8h_source.html">kmrimpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kmrspawn_8h_source.html">kmrspawn.h</a>&quot;</code><br />
</div>
<p><a href="kmrwfmap_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__lane__no.html">kmr_lane_no</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lane Number (at-all-ranks).  <a href="structkmr__lane__no.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__lane__state.html">kmr_lane_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Work-Item Queue of a Lane (at-the-master).  <a href="structkmr__lane__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of Lanes (at-the-master).  <a href="structkmr__lane__vector.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__pair.html">kmr_pair</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__rank__vector.html">kmr_rank_vector</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of Ranks (at-the-master).  <a href="structkmr__rank__vector.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__swf.html">kmr_swf</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Workflow State (at-all-ranks).  <a href="structkmr__swf.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__work__item.html">kmr_work_item</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Work Description (at-the-master).  <a href="structkmr__work__item.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmr__work__list.html">kmr_work_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Work-Item Queue Entry (at-the-master).  <a href="structkmr__work__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae53cb674613386fe2083f988f4f220a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="memdesc:ae53cb674613386fe2083f988f4f220a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum Levels of Lanes.  <a href="#ae53cb674613386fe2083f988f4f220a2">More...</a><br /></td></tr>
<tr class="separator:ae53cb674613386fe2083f988f4f220a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memItemLeft" align="right" valign="top"><a id="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX</b>(a,  b)&#160;&#160;&#160;(((a)&gt;(b))?(a):(b))</td></tr>
<tr class="separator:afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad1fb1b32387d76fb4c8dc1b46d905f21"><td class="memItemLeft" align="right" valign="top"><a id="ad1fb1b32387d76fb4c8dc1b46d905f21"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_activate_workers</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, _Bool shutdown)</td></tr>
<tr class="separator:ad1fb1b32387d76fb4c8dc1b46d905f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ca6ed71a3b1d7b347953cb050bafa3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ae8ca6ed71a3b1d7b347953cb050bafa3">kmr_allocate_lane</a> (int level, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> id, int nprocs)</td></tr>
<tr class="memdesc:ae8ca6ed71a3b1d7b347953cb050bafa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a lane structure (at-the-master).  <a href="#ae8ca6ed71a3b1d7b347953cb050bafa3">More...</a><br /></td></tr>
<tr class="separator:ae8ca6ed71a3b1d7b347953cb050bafa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c96464648e0fef51ace84c1f796a94c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a8c96464648e0fef51ace84c1f796a94c">kmr_bond_all_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a> *v, struct <a class="el" href="structkmr__pair.html">kmr_pair</a> laneranks[][<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>])</td></tr>
<tr class="memdesc:a8c96464648e0fef51ace84c1f796a94c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects lanes to make a superlane, which build up to a single top-lane (at-the-master).  <a href="#a8c96464648e0fef51ace84c1f796a94c">More...</a><br /></td></tr>
<tr class="separator:a8c96464648e0fef51ace84c1f796a94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad719d4e7918c35f7417713acf9a0d58b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ad719d4e7918c35f7417713acf9a0d58b">kmr_bond_sublanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *sup, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lanes[], int nlanes)</td></tr>
<tr class="memdesc:ad719d4e7918c35f7417713acf9a0d58b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a vector of sublanes for the superlane SUP (at-the-master).  <a href="#ad719d4e7918c35f7417713acf9a0d58b">More...</a><br /></td></tr>
<tr class="separator:ad719d4e7918c35f7417713acf9a0d58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78d8e5b272906c5604a412b823e1e5a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ab78d8e5b272906c5604a412b823e1e5a">kmr_check_lane_id</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> id, _Bool admit_any)</td></tr>
<tr class="memdesc:ab78d8e5b272906c5604a412b823e1e5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks well-formedness of a lane-number.  <a href="#ab78d8e5b272906c5604a412b823e1e5a">More...</a><br /></td></tr>
<tr class="separator:ab78d8e5b272906c5604a412b823e1e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08411a71f46fb6d6b42ed57f5ac73cd7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a08411a71f46fb6d6b42ed57f5ac73cd7">kmr_check_partitioning</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, int supercolor, MPI_Comm subcomm)</td></tr>
<tr class="memdesc:a08411a71f46fb6d6b42ed57f5ac73cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a sub-communicator is a partitioning of a super-communicator (at-all-ranks).  <a href="#a08411a71f46fb6d6b42ed57f5ac73cd7">More...</a><br /></td></tr>
<tr class="separator:a08411a71f46fb6d6b42ed57f5ac73cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4572206e14c4b8340dbcc035638789e"><td class="memItemLeft" align="right" valign="top"><a id="ac4572206e14c4b8340dbcc035638789e"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_check_work_queues_empty</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf)</td></tr>
<tr class="separator:ac4572206e14c4b8340dbcc035638789e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fa205bc95bc900b827fad95dbcc53f"><td class="memItemLeft" align="right" valign="top"><a id="a75fa205bc95bc900b827fad95dbcc53f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_ckeck_sublanes_empty</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="separator:a75fa205bc95bc900b827fad95dbcc53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6730813b4d66400b60608924cbe97c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a8b6730813b4d66400b60608924cbe97c">kmr_clear_lane_id</a> (struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> *id)</td></tr>
<tr class="memdesc:a8b6730813b4d66400b60608924cbe97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the lane-number to a null-lane.  <a href="#a8b6730813b4d66400b60608924cbe97c">More...</a><br /></td></tr>
<tr class="separator:a8b6730813b4d66400b60608924cbe97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387cf544ac85c01f7c8c6d961d7f5cc8"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a387cf544ac85c01f7c8c6d961d7f5cc8">kmr_color_of_lane</a> (struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> id)</td></tr>
<tr class="memdesc:a387cf544ac85c01f7c8c6d961d7f5cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a lane-number as a single integer color.  <a href="#a387cf544ac85c01f7c8c6d961d7f5cc8">More...</a><br /></td></tr>
<tr class="separator:a387cf544ac85c01f7c8c6d961d7f5cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266e2deef276136236c8b4f137eb130e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a266e2deef276136236c8b4f137eb130e">kmr_color_subcommunicator</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, MPI_Comm subcomm, MPI_Comm supercomm)</td></tr>
<tr class="memdesc:a266e2deef276136236c8b4f137eb130e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Colors sub-communicators distinctly in a super-communicator, and returns the color which names names a lane (at-all-ranks).  <a href="#a266e2deef276136236c8b4f137eb130e">More...</a><br /></td></tr>
<tr class="separator:a266e2deef276136236c8b4f137eb130e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853d95af6b6897a990cb396daf707cc6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a853d95af6b6897a990cb396daf707cc6">kmr_count_bottom_level_lanes</a> (struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="memdesc:a853d95af6b6897a990cb396daf707cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts the number of the bottom level lanes (at-the-master).  <a href="#a853d95af6b6897a990cb396daf707cc6">More...</a><br /></td></tr>
<tr class="separator:a853d95af6b6897a990cb396daf707cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692f5dbde077359a1e0ad47b483bef09"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a692f5dbde077359a1e0ad47b483bef09">kmr_dequeue_scattered_work</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x)</td></tr>
<tr class="memdesc:a692f5dbde077359a1e0ad47b483bef09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all occurrences of a work-item (which may be scattered for an any-lane) from the all queues.  <a href="#a692f5dbde077359a1e0ad47b483bef09">More...</a><br /></td></tr>
<tr class="separator:a692f5dbde077359a1e0ad47b483bef09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab22be0af5855932538ff08e3a2600c"><td class="memItemLeft" align="right" valign="top"><a id="a4ab22be0af5855932538ff08e3a2600c"></a>
static struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_dequeue_work</b> (struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="separator:a4ab22be0af5855932538ff08e3a2600c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668e7b808fa3a039521964831825bb3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a668e7b808fa3a039521964831825bb3f">kmr_detach_swf_workers</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:a668e7b808fa3a039521964831825bb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disengages the workers from main processing and puts them in the service loop for spawning.  <a href="#a668e7b808fa3a039521964831825bb3f">More...</a><br /></td></tr>
<tr class="separator:a668e7b808fa3a039521964831825bb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dadcc3ac591a81669c04c5eb5758f81"><td class="memItemLeft" align="right" valign="top"><a id="a2dadcc3ac591a81669c04c5eb5758f81"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_dump_split_lanes</b> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> id)</td></tr>
<tr class="separator:a2dadcc3ac591a81669c04c5eb5758f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6de194157bf5d7d61ac942e0c3b4b3c"><td class="memItemLeft" align="right" valign="top"><a id="af6de194157bf5d7d61ac942e0c3b4b3c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_dump_sublanes</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="separator:af6de194157bf5d7d61ac942e0c3b4b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a626663117f4a52acbccf45e6a4d83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a74a626663117f4a52acbccf45e6a4d83">kmr_dump_swf_history</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:a74a626663117f4a52acbccf45e6a4d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the history of <a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e" title="Maps with a simple workflow. ">kmr_map_swf()</a>, which is the start ordering the work-items.  <a href="#a74a626663117f4a52acbccf45e6a4d83">More...</a><br /></td></tr>
<tr class="separator:a74a626663117f4a52acbccf45e6a4d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1ca392e7e9052593253997e40968ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#acf1ca392e7e9052593253997e40968ee">kmr_dump_swf_lanes</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:acf1ca392e7e9052593253997e40968ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps lanes created by <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>.  <a href="#acf1ca392e7e9052593253997e40968ee">More...</a><br /></td></tr>
<tr class="separator:acf1ca392e7e9052593253997e40968ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237a0e045110a80a495d69c255d60ce1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a237a0e045110a80a495d69c255d60ce1">kmr_dump_swf_order_history</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, int *history, size_t count)</td></tr>
<tr class="memdesc:a237a0e045110a80a495d69c255d60ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of start ordering of the work-items.  <a href="#a237a0e045110a80a495d69c255d60ce1">More...</a><br /></td></tr>
<tr class="separator:a237a0e045110a80a495d69c255d60ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31bcc9fe035617a1d8335f9c643d32b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ad31bcc9fe035617a1d8335f9c643d32b">kmr_enqueue_work</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x, _Bool multipleany)</td></tr>
<tr class="memdesc:ad31bcc9fe035617a1d8335f9c643d32b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues a work-item in some sublane of a LANE (at-the-master).  <a href="#ad31bcc9fe035617a1d8335f9c643d32b">More...</a><br /></td></tr>
<tr class="separator:ad31bcc9fe035617a1d8335f9c643d32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae066ef4b1b21143922692609450cf53a"><td class="memItemLeft" align="right" valign="top"><a id="ae066ef4b1b21143922692609450cf53a"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_err_when_swf_is_not_initialized</b> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="separator:ae066ef4b1b21143922692609450cf53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fc9ad0ecac0d908b081c4c82367039"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a24fc9ad0ecac0d908b081c4c82367039">kmr_find_leader</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, int level, struct <a class="el" href="structkmr__pair.html">kmr_pair</a> laneranks[][<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>])</td></tr>
<tr class="memdesc:a24fc9ad0ecac0d908b081c4c82367039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches a leader (rank=0) in a LANE at a LEVEL (at-the-master).  <a href="#a24fc9ad0ecac0d908b081c4c82367039">More...</a><br /></td></tr>
<tr class="separator:a24fc9ad0ecac0d908b081c4c82367039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7565fdfabb8be6ed01b4db68d11406f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#aa7565fdfabb8be6ed01b4db68d11406f">kmr_find_sublane_index</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="memdesc:aa7565fdfabb8be6ed01b4db68d11406f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a sublane index of a superlane.  <a href="#aa7565fdfabb8be6ed01b4db68d11406f">More...</a><br /></td></tr>
<tr class="separator:aa7565fdfabb8be6ed01b4db68d11406f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146dfb7ca8b7e8f1a27eb61e10e76b3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a146dfb7ca8b7e8f1a27eb61e10e76b3b">kmr_find_worker_index</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, int rank)</td></tr>
<tr class="memdesc:a146dfb7ca8b7e8f1a27eb61e10e76b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a worker index of a lane for a rank.  <a href="#a146dfb7ca8b7e8f1a27eb61e10e76b3b">More...</a><br /></td></tr>
<tr class="separator:a146dfb7ca8b7e8f1a27eb61e10e76b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1819f546cc47f6fc71c453ccdac163d8"><td class="memItemLeft" align="right" valign="top"><a id="a1819f546cc47f6fc71c453ccdac163d8"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_finish_current_work</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="separator:a1819f546cc47f6fc71c453ccdac163d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f328ef113ef3d72d582ae2d91c888d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a9f328ef113ef3d72d582ae2d91c888d7">kmr_finish_swf</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:a9f328ef113ef3d72d582ae2d91c888d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the lanes of simple workflow.  <a href="#a9f328ef113ef3d72d582ae2d91c888d7">More...</a><br /></td></tr>
<tr class="separator:a9f328ef113ef3d72d582ae2d91c888d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f46384b7945c2f61b791893a4f4e0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ae0f46384b7945c2f61b791893a4f4e0e">kmr_free_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="memdesc:ae0f46384b7945c2f61b791893a4f4e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a lane and its sublanes, recursively (at-the-master).  <a href="#ae0f46384b7945c2f61b791893a4f4e0e">More...</a><br /></td></tr>
<tr class="separator:ae0f46384b7945c2f61b791893a4f4e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb21fb4ad971112227ec9abc69dba222"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#abb21fb4ad971112227ec9abc69dba222">kmr_free_swf_history</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:abb21fb4ad971112227ec9abc69dba222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the history recorded in <a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e" title="Maps with a simple workflow. ">kmr_map_swf()</a>.  <a href="#abb21fb4ad971112227ec9abc69dba222">More...</a><br /></td></tr>
<tr class="separator:abb21fb4ad971112227ec9abc69dba222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ff0a6089a27def2cb166eb6bbc3b3c"><td class="memItemLeft" align="right" valign="top"><a id="a06ff0a6089a27def2cb166eb6bbc3b3c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_free_work_list</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__work__list.html">kmr_work_list</a> *h, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, _Bool warn)</td></tr>
<tr class="separator:a06ff0a6089a27def2cb166eb6bbc3b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94b5873754f20659e33549a2cd3cf71"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ac94b5873754f20659e33549a2cd3cf71">kmr_handle_worker_request</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, _Bool joining)</td></tr>
<tr class="memdesc:ac94b5873754f20659e33549a2cd3cf71"><td class="mdescLeft">&#160;</td><td class="mdescRight">(spawn-library-protocol) Handles requests from workers.  <a href="#ac94b5873754f20659e33549a2cd3cf71">More...</a><br /></td></tr>
<tr class="separator:ac94b5873754f20659e33549a2cd3cf71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2113e75854b4de98116829cf26b3a91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91">kmr_init_swf</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, MPI_Comm lanecomms[<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>], int master)</td></tr>
<tr class="memdesc:aa2113e75854b4de98116829cf26b3a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the lanes of simple workflow.  <a href="#aa2113e75854b4de98116829cf26b3a91">More...</a><br /></td></tr>
<tr class="separator:aa2113e75854b4de98116829cf26b3a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7e6b082fed579e6772489f76700340"><td class="memItemLeft" align="right" valign="top"><a id="adc7e6b082fed579e6772489f76700340"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_join_to_workers</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="separator:adc7e6b082fed579e6772489f76700340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927eb17aefe10cd6ec7b6f7d6b4e37ad"><td class="memItemLeft" align="right" valign="top">static _Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a927eb17aefe10cd6ec7b6f7d6b4e37ad">kmr_lane_eq</a> (struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> n0, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> n1, int level)</td></tr>
<tr class="memdesc:a927eb17aefe10cd6ec7b6f7d6b4e37ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares lane-numbers up to the LEVEL.  <a href="#a927eb17aefe10cd6ec7b6f7d6b4e37ad">More...</a><br /></td></tr>
<tr class="separator:a927eb17aefe10cd6ec7b6f7d6b4e37ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fece9e48b6b0de4bf43e63989994ea"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a94fece9e48b6b0de4bf43e63989994ea">kmr_lane_string</a> (struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> n, _Bool print_all_levels)</td></tr>
<tr class="memdesc:a94fece9e48b6b0de4bf43e63989994ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">(NO-THREAD-SAFE) Returns a string representation of a lane-number.  <a href="#a94fece9e48b6b0de4bf43e63989994ea">More...</a><br /></td></tr>
<tr class="separator:a94fece9e48b6b0de4bf43e63989994ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bc6f28e66c2ecbde81b63e86484823"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#aa0bc6f28e66c2ecbde81b63e86484823">kmr_level_of_lane</a> (struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> n, _Bool admit_any)</td></tr>
<tr class="memdesc:aa0bc6f28e66c2ecbde81b63e86484823"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum level of a given lane-number (zero to KMR_LANE_LEVELS-1), or returns -1 for a null-lane.  <a href="#aa0bc6f28e66c2ecbde81b63e86484823">More...</a><br /></td></tr>
<tr class="separator:aa0bc6f28e66c2ecbde81b63e86484823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ef99102bc3ec3dbc8be5ba7b4ce64c"><td class="memItemLeft" align="right" valign="top"><a id="a37ef99102bc3ec3dbc8be5ba7b4ce64c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_link_work</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x)</td></tr>
<tr class="separator:a37ef99102bc3ec3dbc8be5ba7b4ce64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a5c5ef493873df09bbe5800089a4de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a50a5c5ef493873df09bbe5800089a4de">kmr_load_spawn_library</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, _Bool test_with_fake_spawn)</td></tr>
<tr class="memdesc:a50a5c5ef493873df09bbe5800089a4de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the spawn-library "libkmrspawn.so".  <a href="#a50a5c5ef493873df09bbe5800089a4de">More...</a><br /></td></tr>
<tr class="separator:a50a5c5ef493873df09bbe5800089a4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ed368a1d226bb4056704b458d5d855"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a43ed368a1d226bb4056704b458d5d855">kmr_make_bottom_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> *laneids, struct <a class="el" href="structkmr__pair.html">kmr_pair</a> laneranks[][<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>])</td></tr>
<tr class="memdesc:a43ed368a1d226bb4056704b458d5d855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes lanes at the bottom levels (at-the-master).  <a href="#a43ed368a1d226bb4056704b458d5d855">More...</a><br /></td></tr>
<tr class="separator:a43ed368a1d226bb4056704b458d5d855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a8ec441da4a2b4276d624b84e8de28"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a64a8ec441da4a2b4276d624b84e8de28">kmr_make_lane_vector</a> (int n, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lanes[])</td></tr>
<tr class="memdesc:a64a8ec441da4a2b4276d624b84e8de28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packs lanes in a vector.  <a href="#a64a8ec441da4a2b4276d624b84e8de28">More...</a><br /></td></tr>
<tr class="separator:a64a8ec441da4a2b4276d624b84e8de28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3dc40207428f93d22b29830f9d34c4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#aed3dc40207428f93d22b29830f9d34c4">kmr_make_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf)</td></tr>
<tr class="memdesc:aed3dc40207428f93d22b29830f9d34c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes thelanes at the master rank (at-all-ranks).  <a href="#aed3dc40207428f93d22b29830f9d34c4">More...</a><br /></td></tr>
<tr class="separator:aed3dc40207428f93d22b29830f9d34c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455b5cb7547a4996bd0b6256ab033607"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structkmr__rank__vector.html">kmr_rank_vector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a455b5cb7547a4996bd0b6256ab033607">kmr_make_rank_vector</a> (int n)</td></tr>
<tr class="memdesc:a455b5cb7547a4996bd0b6256ab033607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a rank vector, filling all entries with -1.  <a href="#a455b5cb7547a4996bd0b6256ab033607">More...</a><br /></td></tr>
<tr class="separator:a455b5cb7547a4996bd0b6256ab033607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751beedf873c70fdcf3ceeedf94bc78d"><td class="memItemLeft" align="right" valign="top"><a id="a751beedf873c70fdcf3ceeedf94bc78d"></a>
static struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_make_work_item</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> id, const char *args, size_t argssize, int seq, _Bool separatorspace)</td></tr>
<tr class="separator:a751beedf873c70fdcf3ceeedf94bc78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3df4a8125b1af6129fce5de92822202e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e">kmr_map_swf</a> (<a class="el" href="unionkmr__kvs.html">KMR_KVS</a> *kvi, <a class="el" href="unionkmr__kvs.html">KMR_KVS</a> *kvo, void *arg, struct <a class="el" href="structkmr__spawn__option.html">kmr_spawn_option</a> opt, <a class="el" href="kmr_8h.html#a710ca6341d4cbe82f7e62d0f63c19ebb">kmr_mapfn_t</a> mapfn)</td></tr>
<tr class="memdesc:a3df4a8125b1af6129fce5de92822202e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps with a simple workflow.  <a href="#a3df4a8125b1af6129fce5de92822202e">More...</a><br /></td></tr>
<tr class="separator:a3df4a8125b1af6129fce5de92822202e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad797e5d2c1ec4ed65fdb71c4517de3cb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ad797e5d2c1ec4ed65fdb71c4517de3cb">kmr_name_lane</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, const char *s)</td></tr>
<tr class="memdesc:ad797e5d2c1ec4ed65fdb71c4517de3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a string as a lane-number.  <a href="#ad797e5d2c1ec4ed65fdb71c4517de3cb">More...</a><br /></td></tr>
<tr class="separator:ad797e5d2c1ec4ed65fdb71c4517de3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0a778cc5aaf89c40fc0217f17cf4fd"><td class="memItemLeft" align="right" valign="top"><a id="a4c0a778cc5aaf89c40fc0217f17cf4fd"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_preset_lane_state</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, _Bool queuing)</td></tr>
<tr class="separator:a4c0a778cc5aaf89c40fc0217f17cf4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512245a6e01bafd41ec47b36b2f19e85"><td class="memItemLeft" align="right" valign="top"><a id="a512245a6e01bafd41ec47b36b2f19e85"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_record_in_history</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x)</td></tr>
<tr class="separator:a512245a6e01bafd41ec47b36b2f19e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e904034ece634c3c1a4cb2f2d40387f"><td class="memItemLeft" align="right" valign="top"><a id="a0e904034ece634c3c1a4cb2f2d40387f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_remove_work</b> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x)</td></tr>
<tr class="separator:a0e904034ece634c3c1a4cb2f2d40387f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c266abb8b35e3134e48146a9f7d352"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a93c266abb8b35e3134e48146a9f7d352">kmr_resolve_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf)</td></tr>
<tr class="memdesc:a93c266abb8b35e3134e48146a9f7d352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a lane-number to a rank (wf-&gt;lane_id_on_proc) (at-all-ranks).  <a href="#a93c266abb8b35e3134e48146a9f7d352">More...</a><br /></td></tr>
<tr class="separator:a93c266abb8b35e3134e48146a9f7d352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9063f54304881bf850d49bffe751ebb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ab9063f54304881bf850d49bffe751ebb">kmr_schedule_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane)</td></tr>
<tr class="memdesc:ab9063f54304881bf850d49bffe751ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scehdules a lane for a next work-item (at-the-master).  <a href="#ab9063f54304881bf850d49bffe751ebb">More...</a><br /></td></tr>
<tr class="separator:ab9063f54304881bf850d49bffe751ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34aac60d0099ad33e3c9746dc7b9be9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#af34aac60d0099ad33e3c9746dc7b9be9">kmr_set_swf_verbosity</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, int level)</td></tr>
<tr class="memdesc:af34aac60d0099ad33e3c9746dc7b9be9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the verbosity of the spawn-library.  <a href="#af34aac60d0099ad33e3c9746dc7b9be9">More...</a><br /></td></tr>
<tr class="separator:af34aac60d0099ad33e3c9746dc7b9be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5dca11c703ea3e6a4ed5c4671200248"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#ae5dca11c703ea3e6a4ed5c4671200248">kmr_split_swf_lanes</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, MPI_Comm splitcomms[<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>], int root, char *description[], _Bool dump)</td></tr>
<tr class="memdesc:ae5dca11c703ea3e6a4ed5c4671200248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits a communicator in a KMR context to ones to be used for <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>.  <a href="#ae5dca11c703ea3e6a4ed5c4671200248">More...</a><br /></td></tr>
<tr class="separator:ae5dca11c703ea3e6a4ed5c4671200248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31df39a23d6f87e4aa4943cf7b713bfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a31df39a23d6f87e4aa4943cf7b713bfd">kmr_split_swf_lanes_a</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr, MPI_Comm splitcomms[<a class="el" href="kmrwfmap_8c.html#ae53cb674613386fe2083f988f4f220a2">KMR_LANE_LEVELS</a>], int root, int *description[], _Bool dump)</td></tr>
<tr class="memdesc:a31df39a23d6f87e4aa4943cf7b713bfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits a communicator in a KMR context to ones to be used for <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>.  <a href="#a31df39a23d6f87e4aa4943cf7b713bfd">More...</a><br /></td></tr>
<tr class="separator:a31df39a23d6f87e4aa4943cf7b713bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eee4b21b982927a4a21a52766ca5344"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a7eee4b21b982927a4a21a52766ca5344">kmr_start_lanes</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *x)</td></tr>
<tr class="memdesc:a7eee4b21b982927a4a21a52766ca5344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests workers to start a work for a lane and its sublanes, and then connects to workers (at-the-master).  <a href="#a7eee4b21b982927a4a21a52766ca5344">More...</a><br /></td></tr>
<tr class="separator:a7eee4b21b982927a4a21a52766ca5344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f58f9d7317683dda3a172e24398b87"><td class="memItemLeft" align="right" valign="top"><a id="a42f58f9d7317683dda3a172e24398b87"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>kmr_start_worker</b> (struct <a class="el" href="structkmr__spawn__work.html">kmr_spawn_work</a> *w, size_t msglen, int rank, MPI_Comm basecomm)</td></tr>
<tr class="separator:a42f58f9d7317683dda3a172e24398b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbeb040b750ed83c978d8f92570780b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a1dbeb040b750ed83c978d8f92570780b">kmr_stop_swf_workers</a> (<a class="el" href="structkmr__ctx.html">KMR</a> *mr)</td></tr>
<tr class="memdesc:a1dbeb040b750ed83c978d8f92570780b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes the workers of workflow.  <a href="#a1dbeb040b750ed83c978d8f92570780b">More...</a><br /></td></tr>
<tr class="separator:a1dbeb040b750ed83c978d8f92570780b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ec544c29245efb5fa99830a43b7516"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516">kmr_yield_for_lane</a> (struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *wf, struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *lane, int sublaneindex)</td></tr>
<tr class="memdesc:a17ec544c29245efb5fa99830a43b7516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a next work-item when a worker or a sublane finishes (at-the-master).  <a href="#a17ec544c29245efb5fa99830a43b7516">More...</a><br /></td></tr>
<tr class="separator:a17ec544c29245efb5fa99830a43b7516"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9bbb38e08a2ecb4541b11f1ee5d30c53"><td class="memItemLeft" align="right" valign="top"><a id="a9bbb38e08a2ecb4541b11f1ee5d30c53"></a>
static short const&#160;</td><td class="memItemRight" valign="bottom"><b>KMR_ANY_LANE</b> = -2</td></tr>
<tr class="separator:a9bbb38e08a2ecb4541b11f1ee5d30c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d07a074c955f1bd8a9252a6d253bfa"><td class="memItemLeft" align="right" valign="top"><a id="a42d07a074c955f1bd8a9252a6d253bfa"></a>
static short const&#160;</td><td class="memItemRight" valign="bottom"><b>KMR_NO_LANE</b> = -1</td></tr>
<tr class="separator:a42d07a074c955f1bd8a9252a6d253bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple Workflow by Static-Spawning. </p>
<p>It needs a library for static-spawning "libkmrspawn.so" (it is only available on K). It runs MPI executables under the control of a simple master/worker scheduler. It groups ranks as lanes, where the lanes are hierarchically split into maximum four levels of sublanes. Each lane is associated with a subworld communicator. In the following diagram, lane (0) is split into two lanes (0.0) and (0.1), and they are split further. A work-item (or job/task) is enqueued in a lane specified by a list of lane-numbers like (0.1) or (0.1.1). A work-item entered in a lane runs using all sublanes below it. Work-items in each lane are scheduled in the FIFO order. The single and dedicated master rank keeps track of running/idling lanes.</p>
<div class="fragment"><div class="line">Split of Lanes (three levels):</div><div class="line">(0).-.(0.0).-.(0.0.0).-.a-number-of-ranks</div><div class="line">....-.......-.(0.0.1).-.a-number-of-ranks</div><div class="line">....-.......-.(0.0.2).-.a-number-of-ranks</div><div class="line">....-.(0.1).-.(0.1.0).-.a-number-of-ranks</div><div class="line">....-.......-.(0.1.1).-.a-number-of-ranks</div><div class="line">....-.......-.(0.1.2).-.a-number-of-ranks</div><div class="line">(1).-.(1.0).-.(1.0.0).-.a-number-of-ranks</div><div class="line">....-.......-.(1.0.1).-.a-number-of-ranks</div><div class="line">....-.......-.(1.0.2).-.a-number-of-ranks</div></div><!-- fragment --><p>The design of this workflow specifies explicitly the scheduling, and thus the data-flow (dependency) is implicit. The scheduler at each rank is almost stateless, where the state is stored in the spawning library. The include file "kmrspawn.h" is an interface to the spawning library. IMPLEMENTATION NOTE: The file "kmrspawn.c" is copied from the spawning library to use it as a dummy worker. IMPLEMENTATION NOTE: Creation of inter-communicators for subworlds is serialized, and a use of a single tag is sufficient. </p>

<p class="definition">Definition in file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae53cb674613386fe2083f988f4f220a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae53cb674613386fe2083f988f4f220a2">&#9670;&nbsp;</a></span>KMR_LANE_LEVELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KMR_LANE_LEVELS&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum Levels of Lanes. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00062">62</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a927eb17aefe10cd6ec7b6f7d6b4e37ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927eb17aefe10cd6ec7b6f7d6b4e37ad">&#9670;&nbsp;</a></span>kmr_lane_eq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _Bool kmr_lane_eq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>n0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares lane-numbers up to the LEVEL. </p>
<p>Note that comparison includes the LEVEL. It returns true when (LEVEL=-1). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00220">220</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a8b6730813b4d66400b60608924cbe97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6730813b4d66400b60608924cbe97c">&#9670;&nbsp;</a></span>kmr_clear_lane_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_clear_lane_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the lane-number to a null-lane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00234">234</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ad797e5d2c1ec4ed65fdb71c4517de3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad797e5d2c1ec4ed65fdb71c4517de3cb">&#9670;&nbsp;</a></span>kmr_name_lane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> kmr_name_lane </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a string as a lane-number. </p>
<p>It signals an error for improper format strings, but, it does not check the range of each index. Examples are: "", "3", "3.3.1", "*", "3.3.*", "3.*.*" ("" is parsed but unusable). Illegal examples are: ".", "3.", "3.*.3". </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00248">248</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a94fece9e48b6b0de4bf43e63989994ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fece9e48b6b0de4bf43e63989994ea">&#9670;&nbsp;</a></span>kmr_lane_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* kmr_lane_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>print_all_levels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>(NO-THREAD-SAFE) Returns a string representation of a lane-number. </p>
<p>It returns "-" for a null-lane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00344">344</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="aa0bc6f28e66c2ecbde81b63e86484823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bc6f28e66c2ecbde81b63e86484823">&#9670;&nbsp;</a></span>kmr_level_of_lane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_level_of_lane </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>admit_any</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the maximum level of a given lane-number (zero to KMR_LANE_LEVELS-1), or returns -1 for a null-lane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00383">383</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a387cf544ac85c01f7c8c6d961d7f5cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387cf544ac85c01f7c8c6d961d7f5cc8">&#9670;&nbsp;</a></span>kmr_color_of_lane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long kmr_color_of_lane </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a lane-number as a single integer color. </p>
<p>A color is used to check the identity of a lane in assertions. A color is used in place of a lane in the spawn-library, because it does not know the lanes. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00406">406</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a146dfb7ca8b7e8f1a27eb61e10e76b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146dfb7ca8b7e8f1a27eb61e10e76b3b">&#9670;&nbsp;</a></span>kmr_find_worker_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_find_worker_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a worker index of a lane for a rank. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00415">415</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="aa7565fdfabb8be6ed01b4db68d11406f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7565fdfabb8be6ed01b4db68d11406f">&#9670;&nbsp;</a></span>kmr_find_sublane_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_find_sublane_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a sublane index of a superlane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00435">435</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a64a8ec441da4a2b4276d624b84e8de28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a8ec441da4a2b4276d624b84e8de28">&#9670;&nbsp;</a></span>kmr_make_lane_vector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a>* kmr_make_lane_vector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lanes</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Packs lanes in a vector. </p>
<p>It returns an unfilled vector when a null LANES is passed. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00457">457</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a455b5cb7547a4996bd0b6256ab033607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455b5cb7547a4996bd0b6256ab033607">&#9670;&nbsp;</a></span>kmr_make_rank_vector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structkmr__rank__vector.html">kmr_rank_vector</a>* kmr_make_rank_vector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a rank vector, filling all entries with -1. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00476">476</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="af34aac60d0099ad33e3c9746dc7b9be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34aac60d0099ad33e3c9746dc7b9be9">&#9670;&nbsp;</a></span>kmr_set_swf_verbosity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmr_set_swf_verbosity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the verbosity of the spawn-library. </p>
<p>LEVEL is 1 to 3, where 3 is the most verbose. It should be called after <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a> and before detaching by <a class="el" href="kmrwfmap_8c.html#a668e7b808fa3a039521964831825bb3f" title="Disengages the workers from main processing and puts them in the service loop for spawning...">kmr_detach_swf_workers()</a> to affect worker ranks. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00505">505</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a50a5c5ef493873df09bbe5800089a4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a5c5ef493873df09bbe5800089a4de">&#9670;&nbsp;</a></span>kmr_load_spawn_library()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_load_spawn_library </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>test_with_fake_spawn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the spawn-library "libkmrspawn.so". </p>
<p>It implements static-spawning, which is only available on K, FX10, and FX100. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00827">827</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a93c266abb8b35e3134e48146a9f7d352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c266abb8b35e3134e48146a9f7d352">&#9670;&nbsp;</a></span>kmr_resolve_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_resolve_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns a lane-number to a rank (wf-&gt;lane_id_on_proc) (at-all-ranks). </p>
<p>It calculates a lane-number from the set of split communicators. It assumes the master-rank (the last rank) is excluded from the lanes. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01368">1368</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="aed3dc40207428f93d22b29830f9d34c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3dc40207428f93d22b29830f9d34c4">&#9670;&nbsp;</a></span>kmr_make_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_make_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes thelanes at the master rank (at-all-ranks). </p>
<p>It collects lane-numbers of all ranks and makes the lane structures from the bottom and upwards. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01607">1607</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ae0f46384b7945c2f61b791893a4f4e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f46384b7945c2f61b791893a4f4e0e">&#9670;&nbsp;</a></span>kmr_free_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_free_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees a lane and its sublanes, recursively (at-the-master). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02006">2006</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="aa2113e75854b4de98116829cf26b3a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2113e75854b4de98116829cf26b3a91">&#9670;&nbsp;</a></span>kmr_init_swf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_init_swf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>lanecomms</em>[KMR_LANE_LEVELS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>master</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the lanes of simple workflow. </p>
<p>Lanes of workflow are created corresponding to communicators in LANECOMMS[], one lane for each communicator. Work-items in a lane at a level are executed in the communicator LANECOMMS[level]. MASTER specifies the master rank, which should not be included in any communicator, because the master needs to be distinct from the workers. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00528">528</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ac94b5873754f20659e33549a2cd3cf71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94b5873754f20659e33549a2cd3cf71">&#9670;&nbsp;</a></span>kmr_handle_worker_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_handle_worker_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>joining</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>(spawn-library-protocol) Handles requests from workers. </p>
<p>It returns MPI_ERR_PENDING when some workers not finish, or MPI_SUCCESS. It blocks in receiving a new request. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02953">2953</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a668e7b808fa3a039521964831825bb3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668e7b808fa3a039521964831825bb3f">&#9670;&nbsp;</a></span>kmr_detach_swf_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_detach_swf_workers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disengages the workers from main processing and puts them in the service loop for spawning. </p>
<p>Only the master rank returns from this call and continues processing, but the worker ranks never return as if they call exit(). It replaces the communicator in the KMR context with a self-communicator after saving the old communicator for workflow. Replacing the communicator makes the context independent from the other ranks and safe to free it. It finalizes the context of workers. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00659">659</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a1dbeb040b750ed83c978d8f92570780b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dbeb040b750ed83c978d8f92570780b">&#9670;&nbsp;</a></span>kmr_stop_swf_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_stop_swf_workers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes the workers of workflow. </p>
<p>It stops the service loop of the workers and lets them exit. It should be called (immediately) before MPI_Finalize() at the master rank. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00731">731</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a9f328ef113ef3d72d582ae2d91c888d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f328ef113ef3d72d582ae2d91c888d7">&#9670;&nbsp;</a></span>kmr_finish_swf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_finish_swf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the lanes of simple workflow. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00750">750</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a31df39a23d6f87e4aa4943cf7b713bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31df39a23d6f87e4aa4943cf7b713bfd">&#9670;&nbsp;</a></span>kmr_split_swf_lanes_a()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_split_swf_lanes_a </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>splitcomms</em>[KMR_LANE_LEVELS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>description</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>dump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits a communicator in a KMR context to ones to be used for <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>. </p>
<p>This is a utility. It is restricted to make lanes having the same depth of levels. DESCRIPTION is an array of a list of positive integers terminated by zeros in the form D[0]={L0,L1,...,Lk-1,0}, D[1]={M0,M1,...,Mj-1,0}, D[2]={N0,N1,...,Ni-1,0}. Here, it is the depth=3 case. N0 to Ni-1 specifies how to split ranks (the bottom level) to i groups. They must satisfy (N0+...+Ni-1)&lt;=(nprocs-1). It needs at least one spare rank for the master. M0 to Mj-1 specifies the 2nd bottom level, and it must satisfy (M0+...+Mj-1)=i. L0 to Lk-1 specifies the top level, and it must satisfy (L0+...+Lk-1)=j. DESCRIPTION and NLAYERS need to be valid only on rank0 (they are broadcasted inside this routine). The ranks not a member of a lane have a null communicator at each level. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l00930">930</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ae5dca11c703ea3e6a4ed5c4671200248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5dca11c703ea3e6a4ed5c4671200248">&#9670;&nbsp;</a></span>kmr_split_swf_lanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_split_swf_lanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>splitcomms</em>[KMR_LANE_LEVELS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>description</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>dump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits a communicator in a KMR context to ones to be used for <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>. </p>
<p>This is a utility. DESCRIPTION is a vector of strings terminated by a null-string. A line consists of a lane-number, a separator colon, and a number of ranks. Thus, each line looks like "3.3.3:4". It does not accept any whitespaces. Note that the descriptions are to distinguish lanes, and the lane-numbers can change, because they are once translated to communicators. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01067">1067</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ab78d8e5b272906c5604a412b823e1e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab78d8e5b272906c5604a412b823e1e5a">&#9670;&nbsp;</a></span>kmr_check_lane_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_check_lane_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>admit_any</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks well-formedness of a lane-number. </p>
<p>Slots after an any-lane must be an any-lane or a no-lane. Slots after a no-lane must be a no-lane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01454">1454</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a266e2deef276136236c8b4f137eb130e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266e2deef276136236c8b4f137eb130e">&#9670;&nbsp;</a></span>kmr_color_subcommunicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_color_subcommunicator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>subcomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>supercomm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Colors sub-communicators distinctly in a super-communicator, and returns the color which names names a lane (at-all-ranks). </p>
<p>It enumerates the rank0 processes of the sub-communicators. It returns -1 for the ranks with a null SUBCOMM. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01519">1519</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a08411a71f46fb6d6b42ed57f5ac73cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08411a71f46fb6d6b42ed57f5ac73cd7">&#9670;&nbsp;</a></span>kmr_check_partitioning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_check_partitioning </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>supercolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>subcomm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a sub-communicator is a partitioning of a super-communicator (at-all-ranks). </p>
<p>A SUPERCOLOR gives a distinct color to each super-communicator, which should be identical in the sub-communicator. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01413">1413</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a43ed368a1d226bb4056704b458d5d855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ed368a1d226bb4056704b458d5d855">&#9670;&nbsp;</a></span>kmr_make_bottom_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a> * kmr_make_bottom_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a> *&#160;</td>
          <td class="paramname"><em>laneids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__pair.html">kmr_pair</a>&#160;</td>
          <td class="paramname"><em>laneranks</em>[][KMR_LANE_LEVELS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes lanes at the bottom levels (at-the-master). </p>
<p>The depths may be not eqaul. The created bottom lanes are bonded to a superlane in <a class="el" href="kmrwfmap_8c.html#a8c96464648e0fef51ace84c1f796a94c" title="Collects lanes to make a superlane, which build up to a single top-lane (at-the-master). ">kmr_bond_all_lanes()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01749">1749</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a8c96464648e0fef51ace84c1f796a94c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c96464648e0fef51ace84c1f796a94c">&#9670;&nbsp;</a></span>kmr_bond_all_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_bond_all_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__vector.html">kmr_lane_vector</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__pair.html">kmr_pair</a>&#160;</td>
          <td class="paramname"><em>laneranks</em>[][KMR_LANE_LEVELS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collects lanes to make a superlane, which build up to a single top-lane (at-the-master). </p>
<p>It destructively modifies the passed vector V. (SLOW). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01830">1830</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ad719d4e7918c35f7417713acf9a0d58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad719d4e7918c35f7417713acf9a0d58b">&#9670;&nbsp;</a></span>kmr_bond_sublanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kmr_bond_sublanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>sup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lanes</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a vector of sublanes for the superlane SUP (at-the-master). </p>
<p>It destructively clears LANES[i] to null, when it is merged to a superlane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01884">1884</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a24fc9ad0ecac0d908b081c4c82367039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24fc9ad0ecac0d908b081c4c82367039">&#9670;&nbsp;</a></span>kmr_find_leader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_find_leader </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__pair.html">kmr_pair</a>&#160;</td>
          <td class="paramname"><em>laneranks</em>[][KMR_LANE_LEVELS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches a leader (rank=0) in a LANE at a LEVEL (at-the-master). </p>
<p>It returns a rank in the base communicator or -1 if not found. It returns -1 for the top lane, because the top lane is never used for work. (SLOW). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01944">1944</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a853d95af6b6897a990cb396daf707cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a853d95af6b6897a990cb396daf707cc6">&#9670;&nbsp;</a></span>kmr_count_bottom_level_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_count_bottom_level_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counts the number of the bottom level lanes (at-the-master). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01985">1985</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ae8ca6ed71a3b1d7b347953cb050bafa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ca6ed71a3b1d7b347953cb050bafa3">&#9670;&nbsp;</a></span>kmr_allocate_lane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a>* kmr_allocate_lane </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__no.html">kmr_lane_no</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nprocs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes a lane structure (at-the-master). </p>
<p>It is a bottom lane if NPROCS is non-zero, or a superlane if NPROCS is zero. The lane-number argument is ignored when creating a top-lane (level=-1). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l01703">1703</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a692f5dbde077359a1e0ad47b483bef09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692f5dbde077359a1e0ad47b483bef09">&#9670;&nbsp;</a></span>kmr_dequeue_scattered_work()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_dequeue_scattered_work </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all occurrences of a work-item (which may be scattered for an any-lane) from the all queues. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02680">2680</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="acf1ca392e7e9052593253997e40968ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1ca392e7e9052593253997e40968ee">&#9670;&nbsp;</a></span>kmr_dump_swf_lanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmr_dump_swf_lanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps lanes created by <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02054">2054</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ad31bcc9fe035617a1d8335f9c643d32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31bcc9fe035617a1d8335f9c643d32b">&#9670;&nbsp;</a></span>kmr_enqueue_work()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_enqueue_work </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>multipleany</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueues a work-item in some sublane of a LANE (at-the-master). </p>
<p>Note it also puts the work-item in the sublanes below, which will block the lanes for yielding them for a superlane. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02352">2352</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a3df4a8125b1af6129fce5de92822202e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3df4a8125b1af6129fce5de92822202e">&#9670;&nbsp;</a></span>kmr_map_swf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kmr_map_swf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionkmr__kvs.html">KMR_KVS</a> *&#160;</td>
          <td class="paramname"><em>kvi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionkmr__kvs.html">KMR_KVS</a> *&#160;</td>
          <td class="paramname"><em>kvo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__spawn__option.html">kmr_spawn_option</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kmr_8h.html#a710ca6341d4cbe82f7e62d0f63c19ebb">kmr_mapfn_t</a>&#160;</td>
          <td class="paramname"><em>mapfn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps with a simple workflow. </p>
<p>The ranks are configured as lanes, which should be initialized by <a class="el" href="kmrwfmap_8c.html#aa2113e75854b4de98116829cf26b3a91" title="Initializes the lanes of simple workflow. ">kmr_init_swf()</a> in advance. The key part specifies the lane like "3.3.3", and the value part specifies the command-line arguments. The work-items in a lane run in the FIFO order. The lane specification can be an any-lane using a wildcard like "3.3.*". The higher level lane blocks the sublanes, thus, for example, an entry with the lane "3.3" blocks the following entries with the lanes "3.3.*". </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02112">2112</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="ab9063f54304881bf850d49bffe751ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9063f54304881bf850d49bffe751ebb">&#9670;&nbsp;</a></span>kmr_schedule_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_schedule_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scehdules a lane for a next work-item (at-the-master). </p>
<p>There is no work-items currently running in the lane and its sublanes. It is called by <a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516" title="Schedules a next work-item when a worker or a sublane finishes (at-the-master). ">kmr_yield_for_lane()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02557">2557</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a7eee4b21b982927a4a21a52766ca5344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eee4b21b982927a4a21a52766ca5344">&#9670;&nbsp;</a></span>kmr_start_lanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_start_lanes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__work__item.html">kmr_work_item</a> *&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests workers to start a work for a lane and its sublanes, and then connects to workers (at-the-master). </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02720">2720</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a17ec544c29245efb5fa99830a43b7516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ec544c29245efb5fa99830a43b7516">&#9670;&nbsp;</a></span>kmr_yield_for_lane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kmr_yield_for_lane </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkmr__swf.html">kmr_swf</a> *&#160;</td>
          <td class="paramname"><em>wf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkmr__lane__state.html">kmr_lane_state</a> *&#160;</td>
          <td class="paramname"><em>lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sublaneindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedules a next work-item when a worker or a sublane finishes (at-the-master). </p>
<p>It returns MPI_SUCCESS when the all of its workers and sublanes finish, or MPI_ERR_PENDING when some work-items are running. Scheduling of the lanes works in a bottom-up mannar, and is implemented by two functions <a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516" title="Schedules a next work-item when a worker or a sublane finishes (at-the-master). ">kmr_yield_for_lane()</a> and <a class="el" href="kmrwfmap_8c.html#ab9063f54304881bf850d49bffe751ebb" title="Scehdules a lane for a next work-item (at-the-master). ">kmr_schedule_lanes()</a>. <a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516" title="Schedules a next work-item when a worker or a sublane finishes (at-the-master). ">kmr_yield_for_lane()</a> propagates the state upwards, and <a class="el" href="kmrwfmap_8c.html#ab9063f54304881bf850d49bffe751ebb" title="Scehdules a lane for a next work-item (at-the-master). ">kmr_schedule_lanes()</a> starts a work-item on the lane. <a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516" title="Schedules a next work-item when a worker or a sublane finishes (at-the-master). ">kmr_yield_for_lane()</a> is called when one of the workers or the sublanes finishes. <a class="el" href="kmrwfmap_8c.html#ab9063f54304881bf850d49bffe751ebb" title="Scehdules a lane for a next work-item (at-the-master). ">kmr_schedule_lanes()</a> is called when the lane is free (no running workers nor running sublanes) to start the lane. A call to <a class="el" href="kmrwfmap_8c.html#a17ec544c29245efb5fa99830a43b7516" title="Schedules a next work-item when a worker or a sublane finishes (at-the-master). ">kmr_yield_for_lane()</a> first enters in a bottom-level lane and ascends its superlanes upwards. Note that the current work-item can be nothing. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02517">2517</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a74a626663117f4a52acbccf45e6a4d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a626663117f4a52acbccf45e6a4d83">&#9670;&nbsp;</a></span>kmr_dump_swf_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmr_dump_swf_history </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the history of <a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e" title="Maps with a simple workflow. ">kmr_map_swf()</a>, which is the start ordering the work-items. </p>
<p>The work-items are given sequence numbers from zero in the order in the KVS. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02874">2874</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="a237a0e045110a80a495d69c255d60ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237a0e045110a80a495d69c255d60ce1">&#9670;&nbsp;</a></span>kmr_dump_swf_order_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmr_dump_swf_order_history </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of start ordering of the work-items. </p>
<p>The work-items are given sequence numbers from zero in the order in the KVS, and the HISTORY vector is filled by them in the order of the starts of the work-items. The COUNT specifies the allocated length of the history vector. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02904">2904</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
<a id="abb21fb4ad971112227ec9abc69dba222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb21fb4ad971112227ec9abc69dba222">&#9670;&nbsp;</a></span>kmr_free_swf_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kmr_free_swf_history </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkmr__ctx.html">KMR</a> *&#160;</td>
          <td class="paramname"><em>mr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the history recorded in <a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e" title="Maps with a simple workflow. ">kmr_map_swf()</a>. </p>
<p>The history is also automatically cleared when a next call to <a class="el" href="kmrwfmap_8c.html#a3df4a8125b1af6129fce5de92822202e" title="Maps with a simple workflow. ">kmr_map_swf()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kmrwfmap_8c_source.html#l02933">2933</a> of file <a class="el" href="kmrwfmap_8c_source.html">kmrwfmap.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
